<!DOCTYPE html ><html lang="en-US"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" href="../css/bulma.css" /><link rel="stylesheet" href="../css/font-awesome.min.css" /><link rel="stylesheet" href="../css/presentationStyle.css" /><link rel="stylesheet" href="../css/vs.min.css" /><script src="../scripts/jquery-3.5.1.min.js"></script><script src="../scripts/clipboard.min.js"></script><script src="../scripts/highlight.min.js"></script><script src="../scripts/presentationStyle.js"></script><title>ICall Methods</title><meta name="Title" content="Methods" /><meta name="Help.Id" content="Methods.T:CallFlow.ICall" /><meta name="Help.ContentType" content="Reference" /><meta name="container" content="CallFlow" /><meta name="guid" content="3a696533-2559-4984-eb61-854af43af89c" /><meta name="tocFile" content="../toc/IDBAA.xml" /></head><body><div class="fixedLayout"><div id="Header" class="fixedHeader"><div class="pageHeader level mb-0 py-2 px-4"><div id="TitleContainer" class="level-left"><div id="DocumentationTitle" class="level-item">3CX Configuration and Call Control API v4.0.0.0 (v20)</div></div><div id="LangFilterSearchContainer" class="level-right"><div class="level-item"><div class="dropdown is-hoverable"><div class="dropdown-trigger"><button class="button" aria-haspopup="true" aria-controls="dropdown-menu"><span id="CurrentLanguage"></span><span class="icon is-small"><i class="fa fa-angle-down" aria-hidden="true"></i></span></button></div><div class="dropdown-menu" role="menu"><div id="LanguageSelections" class="dropdown-content"><a class="dropdown-item languageFilterItem" data-languageId="cs">C#</a></div></div></div></div><div class="level-item"><form id="SearchForm" action="#" onsubmit="TransferToSearchPage(); return false;"><div class="field"><div class="control has-icons-left"><input id="SearchTerms" class="input" type="text" maxlength="200" placeholder="Search" /><span class="icon is-small is-left"><i class="fa fa-search"></i></span><button id="SearchButton" type="submit" class="is-hidden"></button></div></div></form></div></div></div></div><div class="fixedContent"><nav class="breadcrumb my-1 px-2 border-bottom" role="navigation"><ul id="TopicBreadcrumbs" /></nav><div id="ContentContainer" class="columns pl-5 pr-5 fixedContent"><div id="ShowHideTOCColumn" class="column is-hidden-tablet"><a id="ShowHideTOC">Show/Hide TOC</a></div><div id="TOCColumn" class="column is-hidden-mobile"><nav class="toc"><ul id="TableOfContents" class="toc-menu" /></nav></div><div id="Resizer" class="is-hidden"></div><div id="TopicContent" class="column content is-7"><h1>ICall Methods</h1><h2 class="quickLinkHeader"><span class="icon toggleSection" tabindex="0"><i class="fa fa-angle-down"></i></span>Methods</h2><div id="IDZDASection"><table id="MethodList" class="table is-hoverable"><tr><td><a href="19917394-f233-c306-6d32-4bc8f33f20b3.htm">Answer</a></td><td>
            Assures that the request answer was sent to the route point. this method hides <a href="661eaaa9-6314-882f-1a2c-c0dbe9b699ff.htm">Answer<span id="LST977056B6_0" data-languageSpecificText="cs=()|vb=|cpp=()|nu=()|fs=()"></span></a> from the CallFlow script<br />
            Default behavior of CallFlow routepoint is to answer the call automatically.<br />
            The <a href="0360f575-2d07-89cd-7265-73ed4c4ca945.htm">RoutePoint</a> can be configured to not answer the call and launch the script in "Ringing" state<br />
            It this case, script can perform subset of operations which are not require interactions with user (DTMF input, audio playback)<br />
            Script can manipulate caller's attached data and use <a href="55f420a8-f672-d234-3a1e-e600470fe178.htm">Divert(String, Boolean)</a> or <a href="542950bc-4c98-3cfb-ab15-546041074709.htm">Divert(RegistrarRecord)</a> to reroute call when finishes work with caller<br />
            Script can decide when to answer the call if it is required for the script logic. <a href="d68e8e53-0d67-5f6d-6187-10c8d5a5aaef.htm">RunWithMedia(Action)</a><br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="7616676a-38f1-2c0a-5d0e-7a75b1716254.htm">AnswerAsync</a></td><td>
            Awaitable vesion of the <a href="19917394-f233-c306-6d32-4bc8f33f20b3.htm">Answer<span id="LST977056B6_1" data-languageSpecificText="cs=()|vb=|cpp=()|nu=()|fs=()"></span></a>
            Works similar to <a href="504a503d-8cfa-6682-d434-848c7af9c515.htm">AssureMedia<span id="LST977056B6_2" data-languageSpecificText="cs=()|vb=|cpp=()|nu=()|fs=()"></span></a> but gurantee that call will be "answered" as well.<br />
            Script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="504a503d-8cfa-6682-d434-848c7af9c515.htm">AssureMedia</a></td><td>
            Awaitable version of <a href="d68e8e53-0d67-5f6d-6187-10c8d5a5aaef.htm">RunWithMedia(Action)</a> which guarantees availability of media channel.<br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="a761104b-3f2c-8b58-ff30-176bf3464504.htm">AttachCallerData(Dictionary<span id="LST977056B6_3" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String, String<span id="LST977056B6_4" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Awaitable version of <a href="23d1e69b-debd-45be-dac6-9d64260e912b.htm">AttachCallerData(Dictionary<span id="LST977056B6_5" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String, String<span id="LST977056B6_6" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>, Action<span id="LST977056B6_7" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_8" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td></tr><tr><td><a href="23d1e69b-debd-45be-dac6-9d64260e912b.htm">AttachCallerData(Dictionary<span id="LST977056B6_9" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String, String<span id="LST977056B6_10" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>, Action<span id="LST977056B6_11" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_12" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Attaches specified data to the "Caller" connection. This data is preserved and can be accessed by other call flow and server.
            this method works "asynchronously" and return control to the calling code instantly. Use <span class="parameter">completed</span> to assure that data is available in tha MyCall.Caller connection
            Script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="75eec539-86be-df04-091b-face7d386cf1.htm">AttachConnectionData</a></td><td>
            Allows to attach data to the existing connection. The data will be available using <a href="560312b5-28d7-c64a-68bc-d4abdc89a4b5.htm">AttachedData</a> and
            indexer of <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a> 
            Ignores all keys which are not started with "public_" prefix.
            <br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="56df93cd-a98b-787f-8c4f-073e7189fe5e.htm">AttachOnSave(IEnumerable<span id="LST977056B6_13" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>IOMSnapshot<span id="LST977056B6_14" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            This method allows to add other object updates to the main object saving transaction
            <br />(Inherited from <a href="e0c382bb-4715-bec1-02cd-a43bcc3ebe05.htm">IOMSnapshot</a>)</td></tr><tr><td><a href="ba52f8e7-ed2a-701f-f44e-329e940f2b66.htm">AttachOnSave(<span id="LST977056B6_15" data-languageSpecificText="cpp=array&lt;"></span>IOMSnapshot<span id="LST977056B6_16" data-languageSpecificText="cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]"></span>)</a></td><td>
            This method allows to add other object updates to the saving transaction of main object
            <br />(Inherited from <a href="e0c382bb-4715-bec1-02cd-a43bcc3ebe05.htm">IOMSnapshot</a>)</td></tr><tr><td><a href="60bc69ae-a264-59f1-fd3f-05d41e475165.htm">Bargein(RegistrarRecord, PBXConnection<span id="LST977056B6_17" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>BargeInMode)</a></td><td>
            barge in the device to the call of the connection.
            in case if <span class="parameter">mode</span> is <a href="d165da22-19fb-89dc-fe08-0b824d203c25.htm">Whisper</a> the <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a> will hear the new participant.
            <br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="357fe5b1-4320-c459-1625-64f565d452e6.htm">Bargein(String, PBXConnection<span id="LST977056B6_18" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>BargeInMode)</a></td><td>
            Barge in to the call. Call manager will make a call to all devices attachec to specified <a href="626b0bcd-4ec0-07c4-a64d-21f10519f667.htm">DN</a>. Answered connection will barge in to the call of the <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a><br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="f9681acc-165e-078b-c504-b4354cb3e9a9.htm">Call(String, Dictionary<span id="LST977056B6_19" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String, String<span id="LST977056B6_20" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Awaitable version of <a href="56b234e2-f7fa-28d2-874b-6d541536e865.htm">Call(String, Action<span id="LST977056B6_21" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_22" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>, Dictionary<span id="LST977056B6_23" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String, String<span id="LST977056B6_24" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a><br />
            Script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="56b234e2-f7fa-28d2-874b-6d541536e865.htm">Call(String, Action<span id="LST977056B6_25" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_26" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>, Dictionary<span id="LST977056B6_27" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String, String<span id="LST977056B6_28" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Delegates call hanling to the new call flow started by the new instance of the specified script. 
            The reference to <a href="3182d8ee-83d5-3e22-7f96-d739616be9b7.htm">MyCall</a> and subscriptions to the <a href="3182d8ee-83d5-3e22-7f96-d739616be9b7.htm">MyCall</a> events are left alive and calling script can continue to perform operations
            When new call flow is calling <a href="b7cafb1a-16e5-67a5-1a5c-599575b24b4b.htm">Return(Boolean)</a> it is detached from <a href="3182d8ee-83d5-3e22-7f96-d739616be9b7.htm">MyCall</a>
            and then delegate <span class="parameter">completed</span> is called<br />
            Script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="667c68e1-899b-d7ec-c98a-29216f8194d9.htm">CancelReroute</a></td><td>
            cancels current route<br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="9c8f096c-fd16-4a7e-c307-4b1720432c1e.htm">CancelRerouteRequest</a></td><td>
            Cancels specific route requested by <a href="5ee8c6e6-b6bc-5e7a-b830-51c1164f5859.htm">Reroute(IEnumerable<span id="LST977056B6_29" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>RouteRequest<span id="LST977056B6_30" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a>
            Can be called at any time to ensure that route has been ended.
            <br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="b0df69ac-2e9c-06df-b78a-8627a50e16be.htm">ChangeRecordingState</a></td><td>
            Recording control
            <br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="05482778-0eb4-a3b1-b13a-a0fc218774aa.htm">Clone</a></td><td>
            Makes fresh snapshot of the object without modifications
            <br />(Inherited from <a href="e0c382bb-4715-bec1-02cd-a43bcc3ebe05.htm">IOMSnapshot</a>)</td></tr><tr><td><a href="933d7ef6-879d-8640-6b62-7a565216be27.htm">CreateRTAudioFeed</a></td><td>
            creates local audio feed which can be set as background or foreground audio sent to the caller.<br />
            use <a href="324858e4-e373-e38d-3cec-945fcd603ba5.htm">SetBackgroundAudio(Boolean, <span id="LST977056B6_31" data-languageSpecificText="cpp=array&lt;"></span>String<span id="LST977056B6_32" data-languageSpecificText="cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]"></span>)</a> to set <span class="noLink">Name</span> as background audio
            or use <a href="dcba500f-a09e-45e4-a4d6-019e1ab2ad67.htm">PlayPrompt(String, <span id="LST977056B6_33" data-languageSpecificText="cpp=array&lt;"></span>String<span id="LST977056B6_34" data-languageSpecificText="cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]"></span>, PlayPromptOptions)</a> to set it as foreground.
            </td></tr><tr><td><a href="d9f76086-986e-42e8-8fe7-8be1270f670a.htm">CreateTextAndSpeechConversation</a></td><td>
            initiates STT/TTS channel
            </td></tr><tr><td><a href="b0adb863-d06c-fae6-335e-d62e232a419c.htm">Critical</a></td><td>
            Critical script failure
            </td></tr><tr><td><a href="f784dc0d-b2d7-ea10-9141-50cb493df88f.htm">Debug</a></td><td>
            Script debug message
            </td></tr><tr><td><a href="898e1e2e-3798-b181-508a-e9cce57a9218.htm">DeleteOnSave(IEnumerable<span id="LST977056B6_35" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>IOMSnapshot<span id="LST977056B6_36" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Allows to remove other objects as a part of the main object saving transaction.
            <br />(Inherited from <a href="e0c382bb-4715-bec1-02cd-a43bcc3ebe05.htm">IOMSnapshot</a>)</td></tr><tr><td><a href="19006aa0-7409-4f7d-a876-43d90de0d7a5.htm">DeleteOnSave(<span id="LST977056B6_37" data-languageSpecificText="cpp=array&lt;"></span>IOMSnapshot<span id="LST977056B6_38" data-languageSpecificText="cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]"></span>)</a></td><td>
            Allows to remove other objects as a part of the main object saving transaction.
            <br />(Inherited from <a href="e0c382bb-4715-bec1-02cd-a43bcc3ebe05.htm">IOMSnapshot</a>)</td></tr><tr><td><a href="542950bc-4c98-3cfb-ab15-546041074709.htm">Divert(RegistrarRecord)</a></td><td><a href="e850f6c2-432e-f4e8-dc15-280d667c0983.htm">PickupCall(RegistrarRecord, ActiveConnection)</a>. Reroute the incoming call to specifc device
            <br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="55f420a8-f672-d234-3a1e-e600470fe178.htm">Divert(String, Boolean)</a></td><td>
            mirrored action of <a href="89b04a3b-c7f4-f887-84db-a837a0fbadf9.htm">PickupCall(String, ActiveConnection)</a>. Reroute the connection to new destination
            <br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="5f50e207-d29f-edb6-02e6-c032227a87fd.htm">Drop</a></td><td>
            Drop the connection<br />
            This action is performed as emulation of the Reject/Drop action on the device.
            Request to drop call is coming from the server side.
            <br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="3302dfbc-0faf-33e3-0194-624cff012323.htm">Error</a></td><td>
            Script error message
            </td></tr><tr><td><a href="e3b6b4c1-af4b-22d1-d65d-eac26246e085.htm">Exception</a></td><td>
            Script exeption message
            </td></tr><tr><td><a href="bb64c832-b016-99ac-1847-6de26550025e.htm">GetHashCode</a></td><td>
            Hash code is "record" identifier. So all snapshots of the object has the same hash.
            <br />(Inherited from <a href="e0c382bb-4715-bec1-02cd-a43bcc3ebe05.htm">IOMSnapshot</a>)</td></tr><tr><td><a href="26f506df-eb9b-cdc8-2dd5-e9ec723ce3fb.htm">GetPartyConnection</a></td><td>
            Party Connection. As specified by CallManager
            <br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="631aa38a-357d-1cbf-7cad-eb610a8b529c.htm">Info</a></td><td>
            Script information message
            </td></tr><tr><td><a href="4c2994c4-d93c-0c0e-3f64-ceee30eee180.htm">Log</a></td><td>
            Add message to the log of CallFlowService
            <br /><span class="tag is-danger">Obsolete.</span></td></tr><tr><td><a href="8458cec0-12ca-c31d-8bd3-8ce4d7bcd912.htm">MoveTo</a></td><td>
            Reserved for future use.
            Move connection to specified device. 
            If connection is established, it can be moved to another device.
            Routing rules will not be applied to the transfer operation.
            <br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="dcba500f-a09e-45e4-a4d6-019e1ab2ad67.htm">PlayPrompt(String, <span id="LST977056B6_39" data-languageSpecificText="cpp=array&lt;"></span>String<span id="LST977056B6_40" data-languageSpecificText="cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]"></span>, PlayPromptOptions)</a></td><td>
            Awaitable version of the <a href="b623893d-56be-f1f2-41fd-78e7c8aa5535.htm">PlayPrompt(String, <span id="LST977056B6_41" data-languageSpecificText="cpp=array&lt;"></span>String<span id="LST977056B6_42" data-languageSpecificText="cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]"></span>, PlayPromptOptions, Action<span id="LST977056B6_43" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_44" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a><br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="b623893d-56be-f1f2-41fd-78e7c8aa5535.htm">PlayPrompt(String, <span id="LST977056B6_45" data-languageSpecificText="cpp=array&lt;"></span>String<span id="LST977056B6_46" data-languageSpecificText="cpp=&gt;|cs=[]|vb=()|nu=[]|fs=[]"></span>, PlayPromptOptions, Action<span id="LST977056B6_47" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_48" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Plays prompt sequence of the files and notify when playback will finished.
            if <span class="parameter">files</span> is empty, the parameter <span class="parameter">finished</span> is ignored. If playback is active - it will be cancelled and its 
            finished delegate will be called with "false".<br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="615740c4-32a8-3752-5924-0d8f2c8b40c4.htm">ReplaceWith</a></td><td>
            Transfer operation. Replace the connection with new connection made with specified number
            <br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="b6552427-26bf-dee8-8f32-bb0c0ff99795.htm">ReplaceWithPartyOf</a></td><td>
            Replaces the connection with the party of the other connection on the same device. It is last step of Attended transfer
            <br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="5ee8c6e6-b6bc-5e7a-b830-51c1164f5859.htm">Reroute</a></td><td>
            Request to replace the connection with one of the route build for specified targets.
            if one of the route will answer, this connection will be replaced with answered route.
            All other routes will be cancelled. All ActiveConnections created for the Reroute request will have
            attached key "requested-target-id".
            <br />(Inherited from <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a>)</td></tr><tr><td><a href="b7cafb1a-16e5-67a5-1a5c-599575b24b4b.htm">Return</a></td><td>
            returns control to the calling script. See  <a href="56b234e2-f7fa-28d2-874b-6d541536e865.htm">Call(String, Action<span id="LST977056B6_49" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_50" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>, Dictionary<span id="LST977056B6_51" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>String, String<span id="LST977056B6_52" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a><br />
            if there is no handlers in the stack, Caller will be redirected to the destination which was specified by the last call to
            <a href="e483e561-6cf5-2598-5c9e-90a4714e6b96.htm">SetDefaultRoute(String, String)</a><br />
            Script can wrapup the work action after calling to <a href="b7cafb1a-16e5-67a5-1a5c-599575b24b4b.htm">Return(Boolean)</a>. The code which is executed as wrapup action MUST NOT:<br />
            1. Access <a href="3182d8ee-83d5-3e22-7f96-d739616be9b7.htm">MyCall</a> object. If some data is required for wrapup, the <a href="4bdd662a-0698-c6fa-416d-7c6171d4caaf.htm">ICallHandler</a> should copy it in own state.<br />
            2. Wait for <a href="2c2d307d-cdc7-8ac7-87a2-49df53623c5a.htm">ICall</a> events - Call is detached from the handler. <br /><br />
            Script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="d16a1e9e-f524-f6b5-d547-515de438ef9c.htm">RouteTo(String, String, Int32)</a></td><td>
            Awaitable version of <a href="8a72f0fb-448e-d2dd-544e-ac90c7f24612.htm">RouteTo(String, String, Int32, Action<span id="LST977056B6_53" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_54" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a><br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="8a72f0fb-448e-d2dd-544e-ac90c7f24612.htm">RouteTo(String, String, Int32, Action<span id="LST977056B6_55" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_56" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Reroute call to the new destination.<br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="d68e8e53-0d67-5f6d-6187-10c8d5a5aaef.htm">RunWithMedia</a></td><td>
            Checks availability of the media channel and optionaly run specified action if media (becomes) ready<br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="324858e4-e373-e38d-3cec-945fcd603ba5.htm">SetBackgroundAudio</a></td><td>
            This music is played as a backround and plays role of "music on hold". 
            It is muffled when prompt is played. PlayPrompt may stop or resume playback using [Stop/Resume]Background flag
            default music is started by default.<br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="e483e561-6cf5-2598-5c9e-90a4714e6b96.htm">SetDefaultRoute</a></td><td>
            Script may specify "default" destination for the call.
            Default destination is triggered when:
            1. <a href="b7cafb1a-16e5-67a5-1a5c-599575b24b4b.htm">Return(Boolean)</a> is called by the initial CallFlow (no scripts objects to return).
            2. unrecoverable failures in call flow.
            </td></tr><tr><td><a href="36b38be5-4d05-911f-1509-0c799f334425.htm">StartRecording(RecordDirection)</a></td><td>
            Awaitable version of <a href="98fb72a0-3581-9fd1-b350-30f17c5daedc.htm">StartRecording(RecordDirection, Action<span id="LST977056B6_57" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_58" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a><br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="98fb72a0-3581-9fd1-b350-30f17c5daedc.htm">StartRecording(RecordDirection, Action<span id="LST977056B6_59" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_60" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td><a href="a79fbc56-3555-12dd-3cfc-1a3f7737940f.htm">StartRecording(String, RecordDirection, Action<span id="LST977056B6_61" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_62" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a> with default temporary filename location.
            Script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.<br /></td></tr><tr><td><a href="d8e609eb-07e0-943e-83b4-525b34c05de5.htm">StartRecording(String, RecordDirection)</a></td><td>
            Awaitable version of <a href="a79fbc56-3555-12dd-3cfc-1a3f7737940f.htm">StartRecording(String, RecordDirection, Action<span id="LST977056B6_63" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_64" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a><br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="a79fbc56-3555-12dd-3cfc-1a3f7737940f.htm">StartRecording(String, RecordDirection, Action<span id="LST977056B6_65" data-languageSpecificText="cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=("></span>Boolean<span id="LST977056B6_66" data-languageSpecificText="cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)"></span>)</a></td><td>
            Records CallFlow audio.<br />
            Request to start local recording using specified temporary file name.
            Script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.<br /></td></tr><tr><td><a href="4082523a-e311-9685-5c0d-b4d432724148.htm">StopRecording</a></td><td>
            Stops current recording<br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            Stop recording does not generate exceptions. It just ask implementation to stop current recording if any.<br />
            User code must use <a href="583a0550-ddb1-d58c-a909-cc5af34c36e4.htm">LocalRecordingState</a> and wait until recording content will be fully available.
            </td></tr><tr><td><a href="5636f37f-6887-e98b-72a7-dceaef5d5392.htm">SwitchTo</a></td><td>
            Script instance may detach itself from the call processing and ask another script instance to continue.
            new script instance will inherit execution context and will use the same Caller data overrides and return point (see <a href="b7cafb1a-16e5-67a5-1a5c-599575b24b4b.htm">Return(Boolean)</a>)
            Caller script will be switched to <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Wrapup</a><br />
            Script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="7ced19b9-e707-f3ef-343c-4696d477083e.htm">Terminate</a></td><td>
            Terminate connection with RoitingExtension. Call may continue (returned back to transferror, or rerouted by CallManager<br />
            script should use this method only when executed in <a href="55536478-f87c-13de-f8aa-ef1d09c7c145.htm">Active</a> mode.
            </td></tr><tr><td><a href="a510522a-5a43-ae2b-e75a-21b56fcbca11.htm">ToString</a></td><td>
            Brief description of object in term of Object model.
            default implementation is <span class="noLink">ToString<span id="LST977056B6_67" data-languageSpecificText="cs=()|vb=|cpp=()|nu=()|fs=()"></span></span>. Concrete implementation may be more verbose.
            <br />(Inherited from <a href="e0c382bb-4715-bec1-02cd-a43bcc3ebe05.htm">IOMSnapshot</a>)</td></tr><tr><td><a href="28ce3693-e460-dee1-e5e1-bc86fd3fa741.htm">Trace</a></td><td>
            Script trace message
            </td></tr><tr><td><a href="d875a109-cffa-4ced-ea5c-ffb76427c8ff.htm">TransferToVoiceMail</a></td><td>
            Transfers call to Voicemail of the specific internal number
            </td></tr><tr><td><a href="191743f3-a6aa-8814-5e34-54934ea03ebb.htm">Warn</a></td><td>
            Script warning
            </td></tr></table></div><h2 class="quickLinkHeader"><span class="icon toggleSection" tabindex="0"><i class="fa fa-angle-down"></i></span>Extension Methods</h2><div id="IDADASection"><table id="ExtensionList" class="table is-hoverable"><tr><td><a href="b9fb7f81-b9d8-82d6-64ef-8c9544da59c7.htm">AnswerAsync</a></td><td>
            request to answer of the call if device supports direct contol.
            Currently supported only by uacsta devices.
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="81148a1f-8840-5ebf-0b9b-e58af4e8db34.htm">AttachConnectionDataAsync</a></td><td>
            Attaches data to <a href="ea61d3c2-aa07-3a55-a4d5-279140c5db53.htm">ActiveConnection</a> the participant connection. <br />
            Attaches only subset of the keys which are started with "public_"
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="725a7b00-69d9-a27e-55bb-e9eefe593359.htm">BargeInCallbackAsync</a></td><td>
            barge-in to the call of the specifid participant form the <a href="5e32ca39-7a3e-fded-d66c-b5e03dc189cf.htm">Extension</a><br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="ffd6f96e-36cd-4b87-a82e-a9091c5ab3d4.htm">BargeInCallbackAsync</a></td><td>
            Barge in to the participant from the specific <a href="5e32ca39-7a3e-fded-d66c-b5e03dc189cf.htm">Extension</a> device
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="e58a462c-b38d-444e-b8cd-5606cd66ba0f.htm">ChangeRecordingStateAsync</a></td><td>
            changing recording state on behalf of participant
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="63238ceb-ac36-765a-ddf9-2dc5f5e60fb6.htm">Deserialize</a></td><td>
            deserializes object and remenber repeatlist.
            object can be saved
            <br />(Defined by <a href="309134e2-e0ff-d808-49b3-f63b743be2a8.htm">SerializationExtension</a>)</td></tr><tr><td><a href="fdfb9071-f251-a5af-5cd6-871c6b3c3cda.htm">DivertAsync</a></td><td>
            Diverts call to the specified destination
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="632beb63-1126-3478-720c-a2f7279c0a23.htm">DivertAsync</a></td><td>
            divert to number with voicemail flag. This is for backward compatibility.
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="11e76de7-ad48-b3ec-d88c-5d1c7c05ab1d.htm">DropAsync</a></td><td>
            the request to terminate connection.
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="c0bbb9c7-3a9f-72cf-da99-3999ddf9a4df.htm">GetSerializableProperties</a></td><td>
            Returns list of properties which are require serialization
            <br />(Defined by <a href="309134e2-e0ff-d808-49b3-f63b743be2a8.htm">SerializationExtension</a>)</td></tr><tr><td><a href="3cfae71b-62bf-67e3-f398-0a0c4e7c7fa7.htm">OMDelete</a></td><td>
            Apply update of the specific snapshot.
            virtually any object may be updated even those which are not supporting <a href="9a8ef92f-638a-7ddc-e913-801838f2249c.htm">IOMStorable</a> interface.
            <br />(Defined by <a href="014501a0-8a00-42cc-c61b-1c79d9322683.htm">CollectionTransactionsHelper</a>)</td></tr><tr><td><a href="7a5052cb-d840-3174-bdba-81c9c7769da8.htm">OMSave</a></td><td>
            Apply update of the specific snapshot.
            virtually any object may be updated even those which are not supporting <a href="9a8ef92f-638a-7ddc-e913-801838f2249c.htm">IOMStorable</a> interface.
            <br />(Defined by <a href="014501a0-8a00-42cc-c61b-1c79d9322683.htm">CollectionTransactionsHelper</a>)</td></tr><tr><td><a href="09b75875-681e-afe6-12d4-ef4485c06756.htm">ReplaceWithAsync</a></td><td>
            BlindTransfer to specific destination. It is most flexible version which allows to choose any type of destination.
            Allows to bypass routing rules.
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="d04fbd97-c19d-dae8-1c60-50a7327573a7.htm">ReplaceWithAsync</a></td><td>
            BlindTransfer to the specific device. Ignores all forwarding rules and tries to deliver call to specific device.
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="c96e2ad0-ee81-b9f3-aa74-3ccfef95694b.htm">ReplaceWithAsync</a></td><td>
            Blind transfer with route to number. Does not allow to bypass forwarding/routing rules.
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="f68eb2c8-c11f-2a49-f45d-883123afb886.htm">ReplaceWithInitOnlyAsync</a></td><td>
            Overload of <a href="18da39d3-5c09-f584-86ea-6eac548a4c72.htm">ReplaceWithInitOnlyAsync(ActiveConnection, String, DN, CallControlAPI<span id="LST977056B6_68" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>DivertReason)</a> for <a href="490a3fbf-e991-c1f0-7c81-3b166b40701c.htm">DestinationStruct</a><br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="b3e92bb3-7d51-e3c4-1577-0b289b4cd998.htm">ReplaceWithInitOnlyAsync</a></td><td>
            Init only request of <a href="d04fbd97-c19d-dae8-1c60-50a7327573a7.htm">ReplaceWithAsync(ActiveConnection, RegistrarRecord, DN, CallControlAPI<span id="LST977056B6_69" data-languageSpecificText="cs=.|vb=.|cpp=::|nu=.|fs=."></span>DivertReason)</a><br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="18da39d3-5c09-f584-86ea-6eac548a4c72.htm">ReplaceWithInitOnlyAsync</a></td><td>
            Special version when the caller needs to initiate transfer without waiting for result
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="a3189f21-f02a-d160-f203-f94ac839972a.htm">ReplaceWithPartyOfAsync</a></td><td>
            Final step of Attended transfer procedure.
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="e0e3374a-f13d-6cc6-57f6-320b9a343058.htm">RouteToAsync</a></td><td>
            the request to route call to specific endpoint.
            the connection is assumed as Parent.
            Routing request could create many "ringing" destinations, but only one may answer
            The answering connection is replacing the parent connection.
            If all destination have failed, task is completed with failed state and Parent connection left alive.
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="b6e4e570-d48e-0f0f-03f5-2115d94993dd.htm">RouteToAsync</a></td><td>
            Simplified vertion which receives DestinationStruct and Timeout
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="28a2f934-25d1-4f3a-3bad-ac3f5bb4c930.htm">RouteToAsync</a></td><td>
            Simplified vertion which receives Destination
            <br />(Defined by <a href="7987e43a-f0af-16eb-58a5-85b32af24ffe.htm">CallControlAPI</a>)</td></tr><tr><td><a href="8871efd3-6a1a-3965-8a6f-c84500f73341.htm">SerializeObject</a></td><td>
            Deserializer for IOMSnapshot
            <br />(Defined by <a href="309134e2-e0ff-d808-49b3-f63b743be2a8.htm">SerializationExtension</a>)</td></tr><tr><td><a href="fdcb2bba-3fac-34b6-30c4-de782c3b9b2e.htm">SerializeProperty</a></td><td>
            returns false if there are no enough information at the moment and it should be repeated after after all objects will be restored.
            Typical case is forward reference to the <a href="da3565aa-65e9-99d3-5edd-0667f0ce3f0b.htm">DN</a> object.
            <br />(Defined by <a href="309134e2-e0ff-d808-49b3-f63b743be2a8.htm">SerializationExtension</a>)</td></tr><tr><td><a href="f873ec43-bfcc-46c7-456f-a9d29e13575e.htm">TryDeserializeProperty</a></td><td>
            returns false if there are no enough information at the moment and it should be repeated after after all objects will be restored.
            Typical case is forward reference to the <a href="da3565aa-65e9-99d3-5edd-0667f0ce3f0b.htm">DN</a> object.
            <br />(Defined by <a href="309134e2-e0ff-d808-49b3-f63b743be2a8.htm">SerializationExtension</a>)</td></tr></table></div><h2 class="quickLinkHeader"><span class="icon toggleSection" tabindex="0"><i class="fa fa-angle-down"></i></span>See Also</h2><div id="seeAlsoSection"><h4>Reference</h4><div><a href="2c2d307d-cdc7-8ac7-87a2-49df53623c5a.htm">ICall Interface</a></div><div><a href="e7895130-35e8-49f4-2cef-6a1a2a1b8364.htm">CallFlow Namespace</a></div></div></div><div id="InThisArticleColumn" class="column is-hidden-mobile"><nav class="menu sticky is-hidden"><p class="menu-label"><strong>In This Article</strong></p><ul id="InThisArticleMenu" class="menu-list"><li><a class="quickLink">Methods</a></li><li><a class="quickLink">Extension Methods</a></li><li><a class="quickLink">See Also</a></li></ul></nav></div></div></div></div><script>$(function(){
SetDefaultLanguage("cs");
LoadTocFile(null, null);
InitializeQuickLinks();

$(".toggleSection" ).click(function () {
    SectionExpandCollapse(this);
});

$(".toggleSection").keypress(function () {
    SectionExpandCollapseCheckKey(this, event)
});
});</script></body></html>